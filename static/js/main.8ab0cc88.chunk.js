(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{27:function(e,t,a){e.exports=a(39)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(24),r=a.n(o),s=a(2),i=a(3),l=a(5),u=a(4),d=a(13),m=a(9),v=a(7);var p,h=function(){function e(){Object(s.a)(this,e)}return Object(i.a)(e,null,[{key:"register",value:function(t){return e.apiRequest("POST","/ing-users",{data:t})}},{key:"login",value:function(t){return e.apiRequest("POST","/ing-users/login",{data:t})}},{key:"logOut",value:function(t){return e.apiRequest("POST","/ing-users/logout",{authToken:t,mode:"non-json()"})}},{key:"getCustomers",value:function(t){return e.apiRequest("GET","/customers",{authToken:t})}},{key:"getProducts",value:function(t){return e.apiRequest("GET","/products",{authToken:t})}},{key:"getInvoices",value:function(t){return e.apiRequest("GET","/invoices",{authToken:t})}},{key:"setInvoice",value:function(t,a){return e.apiRequest("POST","/invoices",{authToken:t,data:a})}},{key:"setItemToInvoice",value:function(t,a){var n="/invoices/".concat(a.invoiceId,"/items");return e.apiRequest("POST",n,{authToken:t,data:a})}},{key:"getItemsOfInvoice",value:function(t,a){var n="/invoices/".concat(a,"/items");return e.apiRequest("GET",n,{authToken:t})}},{key:"getInvoiceById",value:function(t,a){var n="/invoices/".concat(a);return e.apiRequest("GET",n,{authToken:t})}},{key:"getCustomerById",value:function(t,a){var n="/customers/".concat(a);return e.apiRequest("GET",n,{authToken:t})}},{key:"deleteInvoiceById",value:function(t,a){var n="/invoices/".concat(a);return e.apiRequest("DELETE",n,{authToken:t})}},{key:"updateInvoiceById",value:function(t,a,n){var c="/invoices/".concat(a);return e.apiRequest("PATCH",c,{authToken:t,data:n})}},{key:"updateItemById",value:function(t,a,n,c){var o="/invoices/".concat(a,"/items/").concat(n);return e.apiRequest("PUT",o,{authToken:t,data:c})}},{key:"deleteItemById",value:function(t,a,n){var c="/invoices/".concat(a,"/items/").concat(n);return e.apiRequest("DELETE",c,{authToken:t,mode:"non-json()"})}}]),e}();h.apiRequest=(p="https://ing-invoicing.herokuapp.com/api",function(e,t,a){var n={"Content-Type":"application/json"},c=null;"object"===typeof a&&("object"===typeof a.headers&&(n=Object(m.a)(Object(m.a)({},n),a.headers)),"string"===typeof a.authToken&&(n=Object(m.a)(Object(m.a)({},n),{},{Authorization:a.authToken})),null!=a.data&&(c="string"!==typeof a.data?JSON.stringify(a.data):a.data));var o={headers:n,body:c,method:e};return fetch("".concat(p,"/").concat(t),o).then((function(e){return a&&a.mode?e:e.json()}))});var f=h,g=function(){var e=function(){var e=/^auth=/,t=decodeURI(document.cookie).split("; ").filter((function(t){if(e.test(t))return t}));return t.length?JSON.parse(t.join().split("=")[1]):{}}();return Object.keys(e).length?e:{isAuthenticated:!1,accessToken:"",userId:""}}(),b={isAuthenticated:g.isAuthenticated,userId:g.userId,accessToken:g.accessToken},E=c.a.createContext({authData:b,setNewAuthState:function(e){}}),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=void 0,n.handleLogin=function(e){e.preventDefault(),""!==n.state.userData.email&&""!==n.state.userData.password&&n.loginUser()},n.loginUser=function(){f.login(n.state.userData).then((function(e){e.error?n.setState({error:e.error.message}):n.context.setNewAuthState({isAuthenticated:!0,userId:e.userId,accessToken:e.id})}))},n.handleInputs=function(e){n.setState({userData:Object(m.a)(Object(m.a)({},n.state.userData),{},Object(d.a)({},e.target.name,e.target.value))})},n.state={userData:{email:"",password:""},error:""},n}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"section home-bg"},c.a.createElement("div",{className:"row register-block bg-forms rounded text-white text-center justify-content-center p-4"},c.a.createElement("form",null,c.a.createElement("h1",{className:"text-center"},"Login"),c.a.createElement("div",{className:"text-danger"},this.state.error),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"login-email"},"Email"),c.a.createElement("input",{type:"email",className:"form-control",id:"login-email",name:"email",onChange:this.handleInputs,value:this.state.userData.email}))),c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"login-password"},"Password"),c.a.createElement("input",{type:"password",className:"form-control",id:"login-password",name:"password",onChange:this.handleInputs,value:this.state.userData.password})))),c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col"},c.a.createElement("button",{type:"submit",className:"btn btn-sign btn-block",onClick:this.handleLogin},"Sign in \u26a1")),c.a.createElement("div",{className:"col ml-2"},c.a.createElement(v.b,{to:"/register",className:"text-decoration-none"},c.a.createElement("button",{type:"button",className:"btn btn-edit-btn btn-block"},"Register")))))))}}]),a}(c.a.Component);I.contextType=E;var y=I,N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=void 0,n.props=void 0,n.handleInputs=function(e){var t;n.setState({userData:Object(m.a)(Object(m.a)({},n.state.userData),{},(t={},Object(d.a)(t,e.target.name,e.target.value),Object(d.a)(t,"dob",(new Date).toUTCString()),t))})},n.handleRegister=function(e){e.preventDefault();for(var t=0,a=Object.values(n.state.userData);t<a.length;t++){if(""===a[t])return}n.registerNewUser()},n.registerNewUser=function(){f.register(n.state.userData).then((function(e){e.error?n.setState({errorMessage:e.error.message}):n.props.history.goBack()})).catch((function(e){return new Error(e)}))},n.state={userData:{name:"",email:"",username:"",password:"",dob:""},errorMessage:""},n}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"section home-bg"},c.a.createElement("div",{className:"row register-block bg-forms rounded text-white text-center justify-content-center p-4"},c.a.createElement("form",null,c.a.createElement("h1",{className:"text-center"},"Register"),c.a.createElement("div",{className:"text-danger"},this.state.errorMessage),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg col-md-6 col-sm-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"register-name"},"Name"),c.a.createElement("input",{type:"text",className:"form-control",id:"register-name",name:"name",onChange:this.handleInputs,value:this.state.userData.name}))),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-12"},c.a.createElement("div",{className:"form-group ml-2 ml-sm-0"},c.a.createElement("label",{htmlFor:"register-username"},"User name"),c.a.createElement("input",{type:"text",className:"form-control",id:"register-username",name:"username",onChange:this.handleInputs,value:this.state.userData.username})))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12 col-md-6 col-sm-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"register-email"},"Email"),c.a.createElement("input",{type:"email",className:"form-control",id:"register-email",name:"email",onChange:this.handleInputs,value:this.state.userData.email}))),c.a.createElement("div",{className:"col-lg-12 col-md-6 col-sm-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"register-password"},"Password"),c.a.createElement("input",{type:"password",className:"form-control",id:"register-password",name:"password",onChange:this.handleInputs,value:this.state.userData.password})))),c.a.createElement("div",{className:"row justify-content-center text-center"},c.a.createElement("div",{className:"col-6"},c.a.createElement("button",{type:"submit",className:"btn btn-sign btn-block",onClick:this.handleRegister},"Sign up \u26a1")),c.a.createElement("div",{className:"col-6"},c.a.createElement(v.b,{to:"/login",className:"text-decoration-none"},c.a.createElement("button",{type:"button",className:"btn btn-edit-btn btn-block"},"Sign in")))))))}}]),a}(c.a.Component);N.contextType=E;var D=N,k=a(15),O=a(11),j=function(e){var t={pathname:e.editInvoiceOptions.pathname,state:{mode:e.editInvoiceOptions.state.mode,invoiceData:e.invoiceData}};return c.a.createElement("div",{className:"bg-list-item rounded text-white mb-2 list-item"},c.a.createElement("div",{className:"col"},c.a.createElement("div",{className:"row p-2 justify-content-between align-items-center"},c.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-12 col-xs-12 "},c.a.createElement("div",{className:"row"},e.invoiceData.customerName),c.a.createElement("div",{className:"row text-half-white"},"#ID\xa0-\xa0",e.invoiceData.invoiceId)),c.a.createElement("div",{className:"col-lg-2 col-md-1 col"},"Discount: ",e.invoiceData.discount,"%"),c.a.createElement("div",{className:"col-lg-2 col-md-1 col"},"Total: ",e.invoiceData.total),c.a.createElement("div",{className:"col-lg-2 col-md-2 col"},c.a.createElement("div",{className:"row justify-content-end "},c.a.createElement(v.b,{to:t},c.a.createElement("button",{className:"btn btn-edit-btn text-white"},"edit")),c.a.createElement("button",{className:"btn btn-home-delete ml-2",onClick:function(t){t.preventDefault(),e.handleDeleteInvoice(e.invoiceData.invoiceId)}},"del"))))))},T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).props=void 0,n.state=void 0,n.getInvoices=function(){Promise.all([f.getInvoices(n.context.authData.accessToken),f.getCustomers(n.context.authData.accessToken)]).then((function(e){var t=Object(O.a)(e,2),a=t[0],c=t[1].reduce((function(e,t){return e[t.id]=t,e}),{}),o=a.reduce((function(e,t){if(t.createdById===n.context.authData.userId){var a=c[t.customerId],o={invoiceId:t.id,total:t.total,discount:t.discount,customerId:t.customerId,customerName:a.name};return[].concat(Object(k.a)(e),[o])}return e}),[]);n.setState({invoices:o,init:!0})}))},n.getInvoicesItems=function(){if(n.state.invoices.length){var e=[];return n.state.invoices.forEach((function(t){var a=c.a.createElement(j,{key:t.invoiceId,invoiceData:t,handleDeleteInvoice:n.handleDeleteInvoice,editInvoiceOptions:n.props.editInvoiceOptions});e.push(a)})),e}},n.handleDeleteInvoice=function(e){f.deleteInvoiceById(n.context.authData.accessToken,e).then((function(){var t=n.state.invoices.filter((function(t){return t.invoiceId!==e}));n.setState({invoices:t})}))},n.props=e,n.state={invoices:[],init:!1},n}return Object(i.a)(a,[{key:"render",value:function(){this.state.init||this.getInvoices();var e=null;return this.state.init?this.state.invoices.length?e=this.getInvoicesItems():this.state.init&&!this.state.invoices.length&&(e=c.a.createElement("h1",{className:"text-center h2 mt-4"},"You don't have invoices yet.")):e=null,c.a.createElement("div",{className:"col-lg-9 col-md-9 col-sm-12 col-xs-11 p-2 invoices-list"},e)}}]),a}(c.a.Component);T.contextType=E;var x=T,w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleLogOut=function(e){e.preventDefault(),n.logOut()},n.logOut=function(){f.logOut(n.context.authData.accessToken).then((function(){n.context.setNewAuthState({isAuthenticated:!1,userId:"",accessToken:""})})).catch((function(e){return new Error(e)}))},n.getAddEditInvoiceOptions=function(e){return{pathname:"/add-edit-invoice",state:{mode:e}}},n}return Object(i.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"home-page"},c.a.createElement("div",{className:"row content-home"},c.a.createElement("div",{className:"col-lg-2 col-md-2 col-sm-12 mh-100 bg-aside aside-content"},c.a.createElement("h2",{className:"m-3 text-white text-center logo"},"Wolf \u262a Inc."),c.a.createElement("div",{className:"col d-flex flex-column justify-content-between text-center aside-container"},c.a.createElement(v.b,{to:this.getAddEditInvoiceOptions("add")},c.a.createElement("button",{className:"btn btn-add-btn mt-3 border-white add-btn w-100"},"Add invoice")),c.a.createElement("button",{className:"btn btn-log-out border-secondary log-out",onClick:this.handleLogOut}," Log out ")))),c.a.createElement(x,{editInvoiceOptions:this.getAddEditInvoiceOptions("edit")}))}}]),a}(c.a.Component);w.contextType=E;var S=w,P=function(e){var t=e.customerId?e.customerId:e.invoiceData!=={}&&e.invoiceData.customerId;return c.a.createElement("div",{className:"col-12 text-left"},c.a.createElement("label",{htmlFor:"add-customer"},"Customer"),c.a.createElement("select",{className:"form-control",id:"add-customer",onChange:function(t){t.preventDefault(),e.customerHandler(t.target.value)},value:t},c.a.createElement("option",{value:"none"},"Select customer"),function(){var t=[];return e.customers.forEach((function(e){var a=c.a.createElement("option",{key:e.id,value:e.id},e.name+" ---  Address: "+e.address);t.push(a)})),t}()))},q=function(e){var t=Object(n.useState)("none"),a=Object(O.a)(t,2),o=a[0],r=a[1];return c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12 text-left"},c.a.createElement("label",{htmlFor:"add-product"},"Product")),c.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12"},c.a.createElement("select",{className:"form-control",id:"add-product",onChange:function(e){r(e.target.value)}},c.a.createElement("option",{value:"none"},"Select product"),e.products.reduce((function(e,t,a){var n=c.a.createElement("option",{key:a,value:t.id},t.name+" --- "+t.price+"$");return e.push(n),e}),[]))),c.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-12 text-right add-product-btn"},c.a.createElement("button",{className:"btn btn-add-product",onClick:function(t){t.preventDefault(),"none"!==o&&e.addProductHandler(o)}},"Add product")))},C=function(e){var t=e.itemOptions.totalPrice.toFixed(2)+"$";return c.a.createElement("div",{className:"col-12 mb-2"},c.a.createElement("div",{className:"row product justify-content-between align-items-center p-1 bg-product text-dark rounded"},c.a.createElement("div",{className:"col-lg-4 col-6 order-lg-1 order-1 mb-ms-0"},e.productName),c.a.createElement("div",{className:"col-lg-2 col-6 d-flex justify-content-between order-lg-2 order-3"},c.a.createElement("input",{className:"w-100 bg-product",type:"number",id:"quantity",value:e.itemOptions.quantity,onChange:function(t){t.preventDefault(),e.quantityHandler(t,e.itemOptions.uniqId)}})),c.a.createElement("div",{className:"col-lg-4 col-6 order-lg-3 order-2 mb-ms-0"},"Prices: ",t),c.a.createElement("div",{className:"col-lg-2 col-6 order-lg-4 order-4"},c.a.createElement("button",{className:"btn-sm btn-delete product-btn-del",onClick:function(t){t.preventDefault(),e.deleteProductHandler(e.itemOptions.uniqId)}},"del \ud83d\uddd1"))))},A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).props=void 0,n.state=void 0,n.pageMod=void 0,n.componentDidMount=function(){n.setTotalInvoicePrice()},n.componentDidUpdate=function(){n.state.products.length?n.setTotalInvoicePrice():n.state.totalInvoicePrice>0&&n.setState({totalInvoicePrice:0})},n.setTotalInvoicePrice=function(){if(n.state.products.length){var e=n.state.products.reduce((function(e,t){return e+t.totalPrice}),0);n.state.discount>0&&(e-=e/100*n.state.discount),e=+e.toFixed(2),n.state.totalInvoicePrice!==e&&n.setState({totalInvoicePrice:e})}else n.setState({totalInvoicePrice:0})},n.customerHandler=function(e){if("add"===n.pageMod)n.setState({customer:e});else{var t={customerId:e};f.updateInvoiceById(n.context.authData.accessToken,n.props.invoiceData.invoiceId,t).then((function(e){n.setState({customer:e.customerId})}))}},n.addProductHandler=function(e){var t=0;n.props.products.forEach((function(a){a.id===e&&(t=a.price)}));var a={products:[].concat(Object(k.a)(n.state.products),[{id:e,quantity:1,uniqId:n.state.products.length,price:t,totalPrice:t}])};if("add"===n.pageMod)n.setState(a);else{var c={quantity:1,productId:e,invoiceId:n.props.invoiceData.invoiceId};f.setItemToInvoice(n.context.authData.accessToken,c).then((function(){n.setState(a)}))}},n.quantityHandler=function(e,t){var a=e.target.value,c=+a>0||""===a?a:1,o=n.state.products.map((function(e){return e.uniqId===t&&(e.quantity=c,e.totalPrice=e.price*e.quantity),e}));"add"===n.pageMod?n.setState({products:Object(k.a)(o)}):n.updateInvoiceAndItemsHandler("quantity",o)},n.deleteProductHandler=function(e){var t={products:Object(k.a)(n.state.products.filter((function(t){return t.uniqId!==e})))};if("add"===n.pageMod)n.setState(t);else{var a=n.state.products.filter((function(t){return t.uniqId===e}))[0];f.deleteItemById(n.context.authData.accessToken,n.props.invoiceData.invoiceId,a.itemId).then((function(){return n.setState(t)}))}},n.setProductItemInList=function(){var e=Object.fromEntries(n.props.products.map((function(e){return[e.id,e.name]})));return n.state.products.reduce((function(t,a,o){var r=c.a.createElement(C,{productName:e[a.id],key:a.id+o,deleteProductHandler:n.deleteProductHandler,quantityHandler:n.quantityHandler,itemOptions:a});return t.push(r),t}),[])},n.discountHandler=function(e){if("add"===n.pageMod)n.setState({discount:e.target.value});else{var t=e.target.value,a={discount:t,total:n.state.totalInvoicePrice};f.updateInvoiceById(n.context.authData.accessToken,n.props.invoiceData.invoiceId,a).then((function(){n.setState({discount:t})}))}},n.addInvoiceHandler=function(e){if(e.preventDefault(),n.state.products.length&&n.state.customer){var t={customerId:n.state.customer,createdById:n.context.authData.userId,discount:n.state.discount,total:n.state.totalInvoicePrice};f.setInvoice(n.context.authData.accessToken,t).then((function(e){n.state.products.forEach((function(t){var a={quantity:t.quantity,productId:t.id,invoiceId:e.id};f.setItemToInvoice(n.context.authData.accessToken,a).then((function(){return n.props.history.push("/home")}))}))}))}},n.setAddButton=function(){if("add"===n.pageMod)return c.a.createElement("button",{className:"btn btn-add-btn",onClick:n.addInvoiceHandler},"Add invoice")},n.setCancelButton=function(){return"add"===n.pageMod?c.a.createElement(v.b,{to:"/home"},c.a.createElement("button",{className:"btn btn-home-delete ml-2"},"Cancel")):c.a.createElement("button",{className:"btn btn-home-delete ml-2",onClick:function(e){e.preventDefault(),n.setState({redirect:!0})}},"Cancel")},n.updateInvoiceAndItemsHandler=function(e,t){var a={customerId:n.state.customer,createdById:n.context.authData.userId,discount:n.state.discount,total:n.state.totalInvoicePrice};"quantity"===e&&(a={total:n.state.totalInvoicePrice}),f.updateInvoiceById(n.context.authData.accessToken,n.props.invoiceData.invoiceId,a).then((function(){n.state.products.forEach((function(a){var c={quantity:a.quantity,productId:a.id,invoiceId:n.props.invoiceData.invoiceId};f.updateItemById(n.context.authData.accessToken,n.props.invoiceData.invoiceId,a.itemId,c).then((function(){"done"===e?n.props.history.push("/home"):"quantity"===e&&n.setState({products:Object(k.a)(t)})}))}))}))},n.setEditModeState=function(){Promise.all([f.getInvoiceById(n.context.authData.accessToken,n.props.invoiceData.invoiceId),f.getItemsOfInvoice(n.context.authData.accessToken,n.props.invoiceData.invoiceId)]).then((function(e){var t=Object(O.a)(e,2),a=t[0],c=t[1],o=[];c.forEach((function(e,t){var a=n.props.products.filter((function(t){return e.productId===t.id}))[0],c={id:e.productId,quantity:e.quantity,uniqId:t,price:a?a.price:0,totalPrice:a?a.price*e.quantity:0,itemId:e.id};o.push(c)})),o.length&&o[0].totalPrice>0&&n.setState({customer:a.customerId,products:o,discount:a.discount})}))},n.pageMod=e.pageMod,n.state={customer:"",products:[],discount:0,totalInvoicePrice:0,redirect:!1},n}return Object(i.a)(a,[{key:"render",value:function(){this.state.products.length||"edit"!==this.pageMod||this.setEditModeState(),this.state.redirect&&this.updateInvoiceAndItemsHandler("done");var e=0===this.state.discount?"":this.state.discount;return c.a.createElement("form",null,c.a.createElement("div",{className:"row mb-3"},c.a.createElement("div",{className:"col-12 text-left"},c.a.createElement("div",{className:"total ts-2 h3"},"Total price: ",this.state.totalInvoicePrice))),c.a.createElement("div",{className:"row mb-3"},c.a.createElement(P,{customers:this.props.customers,customerHandler:this.customerHandler,pageMod:this.props.pageMod,invoiceData:this.props.invoiceData,customerId:this.state.customer})),c.a.createElement(q,{products:this.props.products,addProductHandler:this.addProductHandler}),c.a.createElement("div",{className:"row"},this.setProductItemInList()),c.a.createElement("div",{className:"row justify-content-between mt-3 align-items-end"},c.a.createElement("div",{className:"col-lg-5 col-md-5 col-sm-12 text-left"},c.a.createElement("label",{htmlFor:"discount-input"},"Discount"),c.a.createElement("input",{type:"text",className:"form-control",id:"discount-input",placeholder:"Discount in %",onChange:this.discountHandler,value:e})),c.a.createElement("div",{className:"col-lg-5 col-md-5 col-sm-12 text-right add-invoice-form-btn"},this.setAddButton(),this.setCancelButton())))}}]),a}(c.a.Component);A.contextType=E;var H=A,M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).props=void 0,n.pageMode=void 0,n.invoiceData=void 0,n.state=void 0,n.pageMode=e.location.state.mode,n.invoiceData=e.location.state.invoiceData||{},n.state={customers:[],products:[]},n}return Object(i.a)(a,[{key:"getSelectOptions",value:function(){var e=this;Promise.all([f.getCustomers(this.context.authData.accessToken),f.getProducts(this.context.authData.accessToken)]).then((function(t){var a=Object(O.a)(t,2),n=a[0],c=a[1];e.setState({customers:n,products:c})}))}},{key:"render",value:function(){return this.state.customers.length||this.getSelectOptions(),c.a.createElement("div",{className:"home-bg"},c.a.createElement("div",{className:"section"},c.a.createElement("div",{className:"row register-block bg-forms rounded text-white text-center justify-content-center p-4"},c.a.createElement("div",{className:"col-12"},c.a.createElement(H,{customers:this.state.customers,products:this.state.products,history:this.props.history,pageMod:this.pageMode,invoiceData:this.invoiceData})))))}}]),a}(c.a.Component);M.contextType=E;var R=M,B=a(12),U=(a(37),a(38),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state=void 0,n.setNewAuthState=function(e){var t={isAuthenticated:e.isAuthenticated,userId:e.userId,accessToken:e.accessToken};!function(e,t,a,n,c){var o=encodeURI(e)+"="+encodeURI(t);if(a){var r=new Date(a,n-1,c);o+="; expires="+encodeURI(r.toUTCString())}document.cookie=o}("auth",JSON.stringify(t),2100,10,1),n.setState({authData:t})},n.state={authData:b,setNewAuthState:n.setNewAuthState},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.authData.isAuthenticated,t=e?c.a.createElement(B.a,{to:"/home"}):c.a.createElement(y,null),a=e?c.a.createElement(S,null):c.a.createElement(B.a,{to:"/login"});return c.a.createElement("div",null,c.a.createElement(v.a,{basename:"/test-task-invoice"},c.a.createElement(B.d,null,c.a.createElement(E.Provider,{value:this.state},c.a.createElement(B.b,{exact:!0,path:"/"},c.a.createElement(B.a,{to:"/login"})),c.a.createElement(B.b,{path:"/login"}," ",t," "),c.a.createElement(B.b,{path:"/home"}," ",a," "),c.a.createElement(B.b,{path:"/register",component:D}),c.a.createElement(B.b,{path:"/add-edit-invoice",component:R})))))}}]),a}(c.a.Component));U.contextType=E;var F=U;r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(F,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8ab0cc88.chunk.js.map