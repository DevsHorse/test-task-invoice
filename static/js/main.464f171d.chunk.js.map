{"version":3,"sources":["modules/model.ts","modules/login-page.tsx","modules/register-page.tsx","modules/home-modules/invoice-item.tsx","modules/home-modules/items-list.tsx","modules/home-page.tsx","modules/add-edit-modules/cusomer.tsx","modules/add-edit-modules/products.tsx","modules/add-edit-modules/product-item.tsx","modules/add-edit-modules/form.tsx","modules/add-edit-invoice.tsx","App.tsx","modules/cookie/cookie.ts","index.tsx"],"names":["API","userData","a","fetch","method","body","JSON","stringify","headers","response","json","asyncRequest","accessToken","mode","cache","invoiceData","itemData","invoiceId","idInvoice","customerId","itemId","LoginPage","props","state","handleInputs","bind","login","email","password","error","e","preventDefault","Object","keys","this","key","then","res","setState","message","stateHandler","isAuth","userId","id","catch","Error","target","name","value","className","htmlFor","type","onChange","onClick","to","React","Component","RegisterPage","register","username","dob","Date","toUTCString","history","goBack","InvoiceItem","editData","pathname","editInvoiceProps","customerName","discount","total","initHandler","ItemsList","getAPI","invoices","init","getInvoices","invoicesResponse","getCustomers","customers","invoicesArray","forEach","invoice","createdById","invoiceCustomer","filter","customer","push","listItems","item","deleteInvoiceById","newInvoices","length","setInvoicesItems","HomePage","logOut","ok","console","addInvoiceProps","token","style","height","CustomerInput","selectValue","customerHandler","options","i","option","address","setCustomersOption","ProductsInput","useState","currentSelect","setCurrentSelect","products","product","price","setProductsOption","addProductHandler","ProductItem","itemOptions","quantity","event","quantityHandler","uniqId","totalPrice","toFixed","deleteProductHandler","AddEditForm","pageMod","discountHandler","addInvoice","totalInvoicePrice","setTotalInvoicePrice","totalSum","reduce","sum","data","updateInvoiceById","productId","productPrice","productItemTemplate","setItemToInvoice","newProducts","map","updateInvoiceAndItemsHandler","newStateData","currentItem","deleteItemById","items","component","Math","random","discountValue","setInvoice","invoiceRes","redirect","quantityArray","updateItemById","getInvoiceById","getItemsOfInvoice","productsArray","currentProduct","newItem","setEditState","setProductItemInList","placeholder","setAddButton","setCancelButton","AddEditInvoice","pageMode","location","customersArray","getProducts","setSelectOptions","App","cookie","regExp","auth","decodeURI","document","split","test","parse","join","getAuthCookie","dataBox","year","month","day","cookieStr","encodeURI","expires","setCookie","basename","process","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.464f171d.chunk.js","sourcesContent":["interface InvoiceData {\r\n  customerId: string,\r\n  createdById: string,\r\n  discount: number,\r\n  total: number\r\n}\r\n\r\ninterface ItemData {\r\n  quantity: number,\r\n  productId: string,\r\n  invoiceId: string\r\n}\r\n\r\nclass API {\r\n\r\n  static register(userData: any) {\r\n\r\n    async function asyncRequest() {\r\n\r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/ing-users', {\r\n        method: 'POST',\r\n        body: JSON.stringify(userData),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static login(userData: any) {\r\n\r\n    async function asyncRequest() {\r\n\r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/ing-users/login', {\r\n        method: 'POST',\r\n        body: JSON.stringify(userData),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n  \r\n  static logOut(accessToken: string) {\r\n\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/ing-users/logout', {\r\n         method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response;\r\n    };\r\n\r\n    return asyncRequest();\r\n\r\n  }\r\n\r\n  static getCustomers(accessToken: string) {\r\n \r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/customers', {\r\n         method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static getProducts(accessToken: string) {\r\n \r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/products', {\r\n         method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static getInvoices(accessToken: string) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices', {\r\n         method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static setInvoice(accessToken: string, invoiceData: InvoiceData) {\r\n    async function asyncRequest() {\r\n\r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices', {\r\n        method: 'POST',\r\n        body: JSON.stringify(invoiceData),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': accessToken\r\n        }\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static setItemToInvoice(accessToken: string, itemData: ItemData) {\r\n    async function asyncRequest() {\r\n\r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + itemData.invoiceId + '/items' , {\r\n        method: 'POST',\r\n        body: JSON.stringify(itemData),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': accessToken\r\n        }\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static getItemsOfInvoice(accessToken: string, idInvoice: string) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + idInvoice + '/items', {\r\n         method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static getInvoiceById(accessToken: string, invoiceId: string) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + invoiceId, {\r\n         method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static getCustomerById(accessToken: string, customerId: string) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/customers/' + customerId, {\r\n         method: 'GET',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static deleteInvoiceById(accessToken: string, invoiceId: string) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + invoiceId, {\r\n         method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static updateInvoiceById(accessToken: string, invoiceId: string, invoiceData: any) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + invoiceId, {\r\n        method: 'PATCH',\r\n        body: JSON.stringify(invoiceData),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': accessToken\r\n        }\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static updateItemById(accessToken: string, invoiceId: string, itemId: string, itemData: any) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + invoiceId + '/items/' + itemId, {\r\n        method: 'PUT',\r\n        body: JSON.stringify(itemData),\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': accessToken\r\n        }\r\n      });\r\n\r\n      return await response.json();\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n\r\n  static deleteItemById(accessToken: string, invoiceId: string, itemId: string) {\r\n    async function asyncRequest() {\r\n      \r\n      const response = await fetch('https://ing-invoicing.herokuapp.com/api/invoices/' + invoiceId + '/items/' + itemId, {\r\n         method: 'DELETE',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': accessToken\r\n            },\r\n            mode: 'cors',\r\n            cache: 'default'\r\n      });\r\n\r\n      return response;\r\n    };\r\n\r\n    return asyncRequest();\r\n  }\r\n}\r\n\r\nexport default API;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport API from './model';\r\n\r\nclass LoginPage extends React.Component {\r\n  public state: any;\r\n  public props: any;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.handleInputs = this.handleInputs.bind(this);\r\n    this.login = this.login.bind(this);\r\n    this.state = {\r\n      userData: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      error: ''\r\n    };\r\n  }\r\n\r\n  login(e: any): void {\r\n    e.preventDefault();\r\n\r\n    for (let key of Object.keys(this.state.userData)) {\r\n      if (this.state.userData[key] === '') return;\r\n    }\r\n\r\n    API.login(this.state.userData)\r\n       .then((res: any) => {\r\n         if (res.error) {\r\n            this.setState({error: res.error.message });\r\n         } else {\r\n           this.props.stateHandler({\r\n             isAuth: true,\r\n             userId: res.userId,\r\n             accessToken: res.id\r\n           });\r\n         }\r\n      })\r\n      .catch((error: any) => new Error(error));\r\n  }\r\n\r\n  handleInputs(e: any): void {\r\n\r\n    this.setState({ \r\n        userData: {\r\n          ...this.state.userData,\r\n          [e.target.name]: e.target.value \r\n        }\r\n    });\r\n\r\n  }\r\n  \r\n  render() {\r\n\r\n    return (\r\n      <div className=\"section home-bg\">\r\n        <div className=\"row register-block bg-forms rounded text-white text-center justify-content-center p-4\">\r\n          \r\n          <form>\r\n            <h1 className=\"text-center\">Login</h1>\r\n            <div className=\"text-danger\">{this.state.error}</div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"login-email\">Email</label>\r\n                    <input \r\n                      type=\"email\" \r\n                      className=\"form-control\" \r\n                      id=\"login-email\" \r\n                      name=\"email\"\r\n                      onChange={this.handleInputs}\r\n                      value={this.state.userData.email}\r\n                    />\r\n                  </div>\r\n              </div>\r\n                  \r\n              <div className=\"col-12\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"login-password\">Password</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      className=\"form-control\" \r\n                      id=\"login-password\" \r\n                      name=\"password\"\r\n                      onChange={this.handleInputs}\r\n                      value={this.state.userData.password}\r\n                    />\r\n                  </div>\r\n              </div>\r\n                  \r\n            </div>\r\n            \r\n            <div className=\"row justify-content-center\">\r\n              <div className=\"col\">\r\n                <button \r\n                  type=\"submit\" \r\n                  className=\"btn btn-fish btn-block\"\r\n                  onClick={this.login}\r\n                >Sign in ⚡</button>\r\n              </div>\r\n              \r\n              <div className=\"col ml-2\">\r\n              <Link to='/register' className=\"text-decoration-none\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-edit-btn btn-block\"\r\n                >Register</button></Link>\r\n              </div>\r\n              \r\n            </div>\r\n            \r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginPage;","import React from 'react';\r\nimport API from './model';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass RegisterPage extends React.Component {\r\n  public state: any;\r\n  public props: any;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.handleInputs = this.handleInputs.bind(this);\r\n    this.register = this.register.bind(this);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      username: '',\r\n      password: '',\r\n      dob: ''\r\n    };\r\n  }\r\n\r\n  handleInputs(e: any): void {\r\n    this.setState({ [e.target.name]: e.target.value, dob: new Date().toUTCString() });\r\n  }\r\n\r\n  register(e: any): void {\r\n    e.preventDefault();\r\n\r\n    for (let key of Object.keys(this.state)) {\r\n      if (this.state[key] === '') return;\r\n    }\r\n\r\n    API.register(this.state)\r\n       .then(res => {\r\n         this.setState({ userId: res.id });\r\n         this.props.history.goBack();\r\n      })\r\n      .catch((error: any) => new Error(error));\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"section home-bg\">\r\n        <div className=\"row register-block bg-forms rounded text-white text-center justify-content-center p-4\">\r\n          \r\n          <form>\r\n            <h1 className=\"text-center\">Register</h1>\r\n  \r\n            <div className=\"row\">\r\n              <div className=\"col-lg col-md-6 col-sm-12\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"register-name\">Name</label>\r\n                    <input\r\n                      type=\"text\" \r\n                      className=\"form-control\" \r\n                      id=\"register-name\" \r\n                      name=\"name\"\r\n                      onChange={this.handleInputs}\r\n                      value={this.state.name}\r\n                    />\r\n                  </div>\r\n              </div>\r\n                 \r\n              <div className=\"col-lg-6 col-md-6 col-sm-12\">\r\n                 <div className=\"form-group ml-2 ml-sm-0\">\r\n                    <label htmlFor=\"register-username\">User name</label>\r\n                    <input\r\n                      type=\"text\" \r\n                      className=\"form-control\" \r\n                      id=\"register-username\" \r\n                      name=\"username\"\r\n                      onChange={this.handleInputs}\r\n                      value={this.state.username}\r\n                    />\r\n                  </div>\r\n              </div>\r\n                  \r\n            </div>\r\n                  \r\n            <div className=\"row\">\r\n              <div className=\"col-lg-12 col-md-6 col-sm-12\">\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"register-email\">Email</label>\r\n                    <input \r\n                      type=\"email\" \r\n                      className=\"form-control\" \r\n                      id=\"register-email\" \r\n                      name=\"email\"\r\n                      onChange={this.handleInputs}\r\n                      value={this.state.email}\r\n                    />\r\n                  </div>\r\n              </div>\r\n                  \r\n              <div className=\"col-lg-12 col-md-6 col-sm-12\">\r\n                 <div className=\"form-group\">\r\n                    <label htmlFor=\"register-password\">Password</label>\r\n                    <input \r\n                      type=\"password\" \r\n                      className=\"form-control\" \r\n                      id=\"register-password\" \r\n                      name=\"password\"\r\n                      onChange={this.handleInputs}\r\n                      value={this.state.password}\r\n                    />\r\n                  </div>\r\n              </div>\r\n                  \r\n            </div>\r\n           \r\n           <div className=\"row justify-content-center text-center\">\r\n            <div className=\"col-6\">\r\n              <button \r\n                type=\"submit\" \r\n                className=\"btn btn-fish btn-block\"\r\n                onClick={this.register}\r\n              >Sign up ⚡</button>\r\n            </div>\r\n            \r\n            <div className=\"col-6\">\r\n            <Link to='/login' className=\"text-decoration-none\">\r\n              <button \r\n                type=\"button\" \r\n                className=\"btn btn-edit-btn btn-block\"\r\n              >Sign in</button></Link>\r\n            </div>\r\n           </div>\r\n            \r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  } \r\n}\r\n\r\nexport default RegisterPage;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst InvoiceItem = (props: any) => {\r\n\r\n  const deleteItem = (e: any) => {\r\n    e.preventDefault();\r\n    props.initHandler(props.invoiceData.invoiceId);\r\n  };\r\n\r\n  let editData = {\r\n    pathname: props.editInvoiceProps.pathname,\r\n    state: {\r\n      ...props.editInvoiceProps.state,\r\n      invoiceData: props.invoiceData\r\n    }\r\n  };\r\n\r\n  return (\r\n\r\n    <div className=\"bg-list-item rounded text-white mb-2 list-item\">\r\n      <div className=\"col\">\r\n        <div className=\"row p-2 justify-content-between align-items-center\">\r\n\r\n          <div className=\"col-lg-3 col-md-4 col-sm-12 col-xs-12 \">\r\n            <div className=\"row\">\r\n              {props.invoiceData.customerName}\r\n            </div>\r\n            \r\n            <div className=\"row text-half-white\">\r\n              #ID&nbsp;-&nbsp;{props.invoiceData.invoiceId}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-2 col-md-1 col\">\r\n            Discount: {props.invoiceData.discount}%\r\n          </div>\r\n          \r\n          <div className=\"col-lg-2 col-md-1 col\">\r\n            Total: {props.invoiceData.total}\r\n          </div>\r\n\r\n          <div className=\"col-lg-2 col-md-2 col\">\r\n            <div className=\"row justify-content-end \">\r\n\r\n                <Link to={editData}>\r\n                  <button className='btn btn-edit-btn text-white'>edit</button>\r\n                </Link>\r\n\r\n                <button className='btn btn-home-delete ml-2' onClick={deleteItem}>del</button>\r\n            </div>\r\n          </div>\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    \r\n  );\r\n};\r\n\r\nexport default InvoiceItem;","import React from 'react';\r\nimport InvoiceItem from './invoice-item';\r\nimport API from '../model';\r\n\r\ninterface InvoiceData {\r\n  invoiceId: string,\r\n  total: number,\r\n  discount: number,\r\n  customerId: string,\r\n  customerName: string\r\n}\r\n\r\n\r\nclass ItemsList extends React.Component {\r\n  props: any;\r\n  state: any;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.getAPI = this.getAPI.bind(this);\r\n    this.initHandler = this.initHandler.bind(this);\r\n    this.state = {\r\n      invoices: [],\r\n      init: false\r\n    }\r\n  }\r\n\r\n  \r\n  getAPI() {\r\n    API.getInvoices(this.props.userData.accessToken).then(invoicesResponse => {\r\n      API.getCustomers(this.props.userData.accessToken).then(customers => {\r\n       \r\n        let invoicesArray: object[] = []; \r\n\r\n        invoicesResponse.forEach((invoice: any) => {\r\n\r\n          if (invoice.createdById === this.props.userData.userId) {\r\n            let invoiceCustomer: any = customers.filter((customer: any) => invoice.customerId === customer.id )[0];\r\n\r\n            let invoiceData: InvoiceData = {\r\n              invoiceId: invoice.id,\r\n              total: invoice.total,\r\n              discount: invoice.discount,\r\n              customerId: invoice.customerId,\r\n              customerName: invoiceCustomer.name\r\n            };\r\n\r\n          invoicesArray.push(invoiceData);\r\n          }\r\n        });\r\n\r\n        this.setState({\r\n        invoices: invoicesArray,\r\n        init: true\r\n        });\r\n\r\n      });\r\n    });\r\n  }\r\n\r\n  setInvoicesItems(): object[] {\r\n    let listItems: object[] = [];\r\n\r\n    this.state.invoices.forEach((invoiceData: any) => {\r\n\r\n      let item =  (\r\n        <InvoiceItem\r\n         key={invoiceData.invoiceId} \r\n         invoiceData={invoiceData} \r\n         initHandler={this.initHandler} \r\n         editInvoiceProps={this.props.editInvoiceProps}\r\n        />\r\n      );\r\n\r\n      listItems.push(item);\r\n    });\r\n\r\n    return listItems;\r\n  }\r\n\r\n  initHandler(invoiceId: string): void {\r\n    API.deleteInvoiceById(this.props.userData.accessToken, invoiceId).then(res => {\r\n\r\n      let newInvoices = this.state.invoices.filter((invoice: any) => invoice.invoiceId !== invoiceId);\r\n      this.setState({invoices: newInvoices}); // This method is faster\r\n\r\n      // this.setState({ init: false });  // This method have slow reaction\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    if (!this.state.init) {\r\n      this.getAPI();\r\n    }\r\n\r\n    return(\r\n      <div className=\"col-lg-9 col-md-9 col-sm-12 col-xs-11 p-2 invoices-list\">\r\n        {\r\n         this.state.invoices.length\r\n         ? this.setInvoicesItems()\r\n         : this.state.init === true \r\n         ? (<h1 className=\"text-center h2 mt-4\">You don't have invoices yet.</h1>) \r\n         : ''\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ItemsList;","import React from 'react';\r\nimport ItemsList from './home-modules/items-list';\r\nimport { Link } from 'react-router-dom';\r\nimport API from './model';\r\n\r\nclass HomePage extends React.Component {\r\n  public props: any;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.logOut = this.logOut.bind(this);\r\n  }\r\n\r\n  logOut(e: any): void {\r\n    e.preventDefault();\r\n\r\n    API.logOut(this.props.userData.accessToken).then(res => {\r\n      if (res.ok) {\r\n        this.props.stateHandler({\r\n          isAuth: false,\r\n          userId: '',\r\n          accessToken: '' \r\n        });\r\n      } else {\r\n        console.error('Invalid access token');\r\n      }\r\n    }).catch(error => new Error(error));\r\n  }\r\n\r\n  render() {\r\n    let addInvoiceProps: object = {\r\n      pathname: \"/add-edit-invoice\",\r\n      state: {\r\n        mode: 'add',\r\n        token: this.props.userData.accessToken,\r\n        userId: this.props.userData.userId\r\n      }\r\n    };\r\n\r\n    let editInvoiceProps: object = {\r\n      pathname: \"/add-edit-invoice\",\r\n      state: {\r\n        mode: 'edit',\r\n        token: this.props.userData.accessToken,\r\n        userId: this.props.userData.userId\r\n      }\r\n    }\r\n\r\n    return (\r\n\r\n      <div className=\"home-page\">\r\n        <div className=\"row content-home\">\r\n          <div className=\"col-lg-2 col-md-2 col-sm-12 mh-100 bg-aside aside-content\">\r\n            <h2 className=\"m-3 text-white text-center logo\">Wolf ☪ Inc.</h2>\r\n            <div className=\"col d-flex flex-column justify-content-between text-center\" style={{height: '85%'}}>\r\n              <Link to={addInvoiceProps}>\r\n                <button className=\"btn btn-add-btn mt-3 border-white add-btn w-100\">Add invoice</button>\r\n              </Link>\r\n              <button\r\n               className=\"btn btn-log-out border-secondary log-out\" \r\n               onClick={this.logOut}\r\n              >Log out</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <ItemsList\r\n         userData={this.props.userData} \r\n         editInvoiceProps={editInvoiceProps}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nconst CustomerInput = (props: any) => {\r\n\r\n  const setCustomersOption = (): object[] => {\r\n    let options: object[] = [];\r\n\r\n    props.customers.forEach((customer: any, i: number) => {\r\n\r\n        let option: object  = (\r\n          <option key={i} value={customer.id}>\r\n            {customer.name + ' --- ' + ' Address: ' + customer.address}\r\n          </option>\r\n        );\r\n\r\n      options.push(option);\r\n    });\r\n\r\n    return options;\r\n  };\r\n\r\n\r\n  const setCustomerState = (e: any): void => {\r\n    e.preventDefault();\r\n    props.customerHandler(e.target.value);\r\n  };\r\n\r\n  let selectValue = props.customerId ? props.customerId :\r\n   props.invoiceData !== {} ? props.invoiceData.customerId : false;\r\n\r\n  return (\r\n    <div className=\"col-12 text-left\">\r\n      <label htmlFor=\"add-customer\">Customer</label>\r\n      <select\r\n       className=\"form-control\" \r\n       id=\"add-customer\" \r\n       onChange={setCustomerState} \r\n       value={selectValue}>\r\n         \r\n        <option value=\"none\">Select customer</option>\r\n\r\n        {setCustomersOption()}\r\n\r\n      </select>\r\n    </div> \r\n  );\r\n};\r\n\r\nexport default CustomerInput;","import React, { useState } from 'react';\r\n\r\nconst ProductsInput = (props: any) => {  \r\n\r\n  let [currentSelect, setCurrentSelect] = useState('none');\r\n\r\n  const setProductsOption = (): object[] => {\r\n    let options: object[] = [];\r\n\r\n    props.products.forEach((product: any, i: number) => {\r\n      \r\n      let option = (\r\n        <option key={i} value={product.id}>\r\n          {product.name + ' --- ' + product.price + '$'}\r\n        </option>\r\n      );\r\n    \r\n      options.push(option);\r\n    });\r\n\r\n    return options;\r\n  };\r\n\r\n  const addProduct = (e: any) => {\r\n    e.preventDefault();\r\n    if (currentSelect === 'none') {\r\n      return;\r\n    } else {\r\n      props.addProductHandler(currentSelect);\r\n    }\r\n  };\r\n\r\n  const selectHandler = (e: any): void => {\r\n    setCurrentSelect(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"row mb-3\">\r\n      <div className=\"col-12 text-left\">\r\n        <label htmlFor=\"add-product\">Product</label>\r\n      </div>\r\n\r\n      <div className=\"col-lg-8 col-md-8 col-sm-12\">\r\n          <select className=\"form-control\" id=\"add-product\" onChange={selectHandler}>\r\n            <option value=\"none\">Select product</option>\r\n\r\n            {setProductsOption()}\r\n            \r\n          </select>\r\n      </div>\r\n\r\n      <div className=\"col-lg-4 col-md-4 col-sm-12 text-right add-product-btn\">\r\n        <button className=\"btn btn-add-product\" onClick={addProduct}>Add product</button>\r\n      </div>  \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductsInput;","import React from 'react';\r\n\r\nconst ProductItem = (props: any) => {\r\n\r\n  const quantityHandler = (event: any): void => {\r\n    event.preventDefault();\r\n    props.quantityHandler(event, props.itemOptions.uniqId);\r\n  };\r\n\r\n  const deleteProduct = (e: any): void => {\r\n    e.preventDefault();\r\n    props.deleteProductHandler(props.itemOptions.uniqId);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"col-12 mb-2\">\r\n      <div className=\"product d-flex justify-content-between align-items-center p-1 bg-product text-dark rounded\">\r\n        <div className=\"col-4\">\r\n          {props.product.name}\r\n        </div>\r\n        \r\n        <div className=\"col-2 d-flex justify-content-between\">\r\n          <input\r\n           className=\"w-100 bg-product\" \r\n           type=\"number\" \r\n           id=\"quantity\" \r\n           value={props.itemOptions.quantity} \r\n           onChange={quantityHandler} \r\n          />\r\n        </div>\r\n\r\n        <div className=\"col-4\">\r\n          Prices: {props.itemOptions.totalPrice.toFixed(2) + '$'}\r\n        </div>\r\n\r\n        <div className=\"col-2\">\r\n          <button className=\"btn-sm btn-delete\" onClick={deleteProduct}>del 🗑</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductItem;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport API from '../model';\r\n\r\n//Components\r\nimport CustomerInput from './cusomer';\r\nimport ProductsInput from './products';\r\nimport ProductItem from './product-item';\r\n\r\ninterface InvoiceData {\r\n  customerId?: string,\r\n  createdById?: string,\r\n  discount?: number,\r\n  total?: number\r\n}\r\n\r\nclass AddEditForm extends React.Component {\r\n  props: any;\r\n  state: any;\r\n  pageMod: string;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.customerHandler = this.customerHandler.bind(this);\r\n    this.addProductHandler = this.addProductHandler.bind(this);\r\n    this.deleteProductHandler = this.deleteProductHandler.bind(this);\r\n    this.quantityHandler = this.quantityHandler.bind(this);\r\n    this.discountHandler = this.discountHandler.bind(this);\r\n    this.addInvoice = this.addInvoice.bind(this);\r\n    this.pageMod = props.pageMod;\r\n\r\n    this.state = {\r\n      customer: '',\r\n      products: [],\r\n      discount: 0,\r\n      totalInvoicePrice: 0\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setTotalInvoicePrice();\r\n  };\r\n\r\n  componentDidUpdate() {\r\n    if (this.state.products.length) {\r\n      this.setTotalInvoicePrice();\r\n    } else if (this.state.totalInvoicePrice > 0) {\r\n      this.setState({totalInvoicePrice: 0});\r\n    }\r\n  }\r\n\r\n  setTotalInvoicePrice() {\r\n      if (this.state.products.length) {\r\n        let totalSum = this.state.products.reduce((sum: number, item: any) => {\r\n          return sum += item.totalPrice;\r\n        }, 0);\r\n  \r\n        if (this.state.discount > 0) {\r\n          totalSum -= (totalSum / 100) * this.state.discount;\r\n        }\r\n    \r\n        totalSum = totalSum.toFixed(2);\r\n  \r\n        if (this.state.totalInvoicePrice !== totalSum) {\r\n          this.setState({totalInvoicePrice: totalSum});\r\n        }\r\n      } else {\r\n        this.setState({totalInvoicePrice: 0});\r\n      } \r\n  }\r\n\r\n  customerHandler(customerId: string): void {\r\n    if (this.pageMod === 'add') this.setState({customer: customerId});\r\n    else {\r\n       let data = {\r\n        customerId: customerId\r\n       };\r\n\r\n      API.updateInvoiceById(\r\n        this.props.userData.token,\r\n        this.props.invoiceData.invoiceId,\r\n        data\r\n      ).then(invoice =>  {\r\n        this.setState({customer: invoice.customerId});\r\n      });\r\n    }\r\n  }\r\n\r\n  addProductHandler(productId: string): void {\r\n\r\n    let productPrice: number = 0;\r\n\r\n    this.props.products.forEach((product: any) => {\r\n      if (product.id === productId) {\r\n        productPrice = product.price;\r\n      }\r\n    });\r\n\r\n    let productItemTemplate = {\r\n      products: [\r\n        ...this.state.products,\r\n        {\r\n          id: productId,\r\n          quantity: 1,\r\n          uniqId: this.state.products.length,\r\n          price: productPrice,\r\n          totalPrice: productPrice\r\n        }\r\n      ]\r\n    };\r\n\r\n    if (this.pageMod === 'add') {\r\n      this.setState(productItemTemplate);\r\n    } else {\r\n\r\n      let itemData = {\r\n        quantity: 1,\r\n        productId: productId,\r\n        invoiceId: this.props.invoiceData.invoiceId\r\n      };\r\n\r\n      API.setItemToInvoice(this.props.userData.token, itemData).then(() => {\r\n        this.setState(productItemTemplate);\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  quantityHandler(event: any, uniqId: string): void {\r\n    const newProducts = this.state.products.map((product: any) => {\r\n      if (product.uniqId === uniqId) {\r\n        product.quantity = event.target.value > 0 ? event.target.value : 1;\r\n        product.totalPrice = product.price * product.quantity;\r\n      } \r\n      return product;\r\n    });\r\n\r\n    if (this.pageMod === 'add') this.setState({products: [...newProducts]}); \r\n    else this.updateInvoiceAndItemsHandler('quantity', newProducts);\r\n  }\r\n\r\n  deleteProductHandler(uniqId: string): void {\r\n\r\n    const newStateData = {\r\n        products: [\r\n          ...this.state.products.filter(\r\n            (product: any) => product.uniqId !== uniqId\r\n          )\r\n        ]\r\n    };\r\n\r\n    if (this.pageMod === 'add') this.setState(newStateData);\r\n    else {\r\n          let currentItem = this.state.products.filter(\r\n            (product: any) => product.uniqId === uniqId\r\n          )[0];\r\n\r\n          API.deleteItemById(\r\n            this.props.userData.token, \r\n            this.props.invoiceData.invoiceId,\r\n            currentItem.itemId\r\n          ).then(() => this.setState(newStateData));\r\n        }\r\n  }\r\n\r\n  setProductItemInList() {\r\n\r\n    let items: object[] = [];\r\n\r\n    this.state.products.forEach(\r\n      (item: any) => {\r\n        this.props.products.forEach(\r\n          (product: any) => {\r\n\r\n            if (product.id === item.id) {\r\n              let component = (\r\n                <ProductItem\r\n                product={product} \r\n                key={item.id + '/' + (Math.random() * 10000)} \r\n                deleteProductHandler={this.deleteProductHandler} \r\n                quantityHandler={this.quantityHandler}\r\n                itemOptions={item}/>\r\n              );\r\n\r\n              items.push(component);\r\n            }\r\n\r\n        });\r\n    });\r\n\r\n    return items;\r\n  }\r\n\r\n  discountHandler(e: any): void {\r\n    if (this.pageMod === 'add') this.setState({discount: e.target.value});\r\n    else {\r\n      let discountValue = e.target.value;\r\n\r\n      let data = {\r\n       discount: discountValue,\r\n       total: this.state.totalInvoicePrice\r\n      };\r\n\r\n     API.updateInvoiceById(\r\n       this.props.userData.token, \r\n       this.props.invoiceData.invoiceId, \r\n       data\r\n    ).then(() => this.setState({discount: discountValue}));\r\n   }\r\n  }\r\n\r\n  addInvoice(e: any): void {\r\n    e.preventDefault();\r\n\r\n    if (!this.state.products.length || !this.state.customer) {\r\n      return;\r\n    }\r\n\r\n    let invoiceData = {\r\n      customerId: this.state.customer,\r\n      createdById: this.props.userData.userId,\r\n      discount: this.state.discount,\r\n      total: this.state.totalInvoicePrice\r\n    }\r\n\r\n    API.setInvoice(\r\n      this.props.userData.token, \r\n      invoiceData\r\n      ).then(invoiceRes => {\r\n\r\n        this.state.products.forEach((product: any) => {\r\n\r\n          let itemData = {\r\n            quantity: product.quantity,\r\n            productId: product.id,\r\n            invoiceId: invoiceRes.id\r\n          };\r\n\r\n          API.setItemToInvoice(\r\n            this.props.userData.token, \r\n            itemData\r\n          ).then(() => this.props.history.push('/home'));\r\n      });\r\n    });\r\n  }\r\n\r\n  setAddButton(): React.ReactNode | undefined {\r\n    if (this.pageMod === 'add') {\r\n      return (\r\n        <button \r\n          className=\"btn btn-add-btn\" \r\n          onClick={this.addInvoice}\r\n        >Add invoice</button>\r\n      );\r\n    } \r\n  }\r\n\r\n  setCancelButton(): React.ReactNode {\r\n    if (this.pageMod === 'add') {\r\n      return (\r\n        <Link to='/home'>\r\n          <button className=\"btn btn-home-delete ml-2\">Cancel</button>\r\n        </Link>\r\n      );\r\n    } else {\r\n      return (\r\n        <button \r\n          className=\"btn btn-home-delete ml-2\" \r\n          onClick={(e) => \r\n            {\r\n              e.preventDefault();\r\n              this.setState({redirect: true});\r\n            }\r\n          }\r\n        >Cancel</button>\r\n      )\r\n    }\r\n  }\r\n\r\n  updateInvoiceAndItemsHandler(mode: string, quantityArray?: any): void {\r\n\r\n    let invoiceData: InvoiceData = {\r\n      customerId: this.state.customer,\r\n      createdById: this.props.userData.userId,\r\n      discount: this.state.discount,\r\n      total: this.state.totalInvoicePrice\r\n    };\r\n\r\n    if (mode === 'quantity') {\r\n      invoiceData = {\r\n        total: this.state.totalInvoicePrice\r\n      };\r\n    }\r\n\r\n    API.updateInvoiceById(\r\n      this.props.userData.token, \r\n      this.props.invoiceData.invoiceId, \r\n      invoiceData\r\n    ).then(invoiceRes => {\r\n      this.state.products.forEach((product: any) => {\r\n\r\n        let itemData = {\r\n          quantity: product.quantity,\r\n          productId: product.id,\r\n          invoiceId: this.props.invoiceData.invoiceId\r\n        };\r\n\r\n        API.updateItemById(\r\n          this.props.userData.token, \r\n          this.props.invoiceData.invoiceId, \r\n          product.itemId, \r\n          itemData\r\n        ).then((res) => {\r\n          if (mode === 'done') this.props.history.push('/home');\r\n          else if (mode === 'quantity') this.setState({products: [...quantityArray]});\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  setEditState(): void {\r\n    API.getInvoiceById(\r\n      this.props.userData.token, \r\n      this.props.invoiceData.invoiceId\r\n    ).then(invoiceRes => {\r\n\r\n      API.getItemsOfInvoice(\r\n        this.props.userData.token, \r\n        this.props.invoiceData.invoiceId\r\n      ).then(items => {\r\n\r\n        let productsArray: any = [];\r\n\r\n        items.forEach((item: any, i: number) => {\r\n\r\n          let currentProduct = this.props.products.filter(\r\n            (product: any) => item.productId === product.id\r\n          )[0];\r\n\r\n          let newItem = {\r\n            id: item.productId,\r\n            quantity: item.quantity,\r\n            uniqId: i,\r\n            price:  currentProduct ? currentProduct.price : 0 ,\r\n            totalPrice: currentProduct ? currentProduct.price * item.quantity : 0,\r\n            itemId: item.id\r\n          };\r\n\r\n          productsArray.push(newItem);\r\n        });\r\n\r\n        if (productsArray.length && productsArray[0].totalPrice > 0) {\r\n          this.setState({\r\n            customer: invoiceRes.customerId,\r\n            products: productsArray,\r\n            discount: invoiceRes.discount\r\n          });\r\n        }\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.products.length && this.pageMod === 'edit') {\r\n      this.setEditState();\r\n    }\r\n\r\n    if (this.state.redirect) {\r\n      this.updateInvoiceAndItemsHandler('done');\r\n    }\r\n\r\n    return (\r\n      <form>\r\n{/* Total */}\r\n                <div className=\"row mb-3\">\r\n                  <div className=\"col-12 text-left\">\r\n                    <div className=\"total ts-2 h3\">Total price: {this.state.totalInvoicePrice}</div>\r\n                  </div>\r\n                </div>\r\n\r\n{/* Customer input */}\r\n                <div className=\"row mb-3\">\r\n                  <CustomerInput\r\n                   customers={this.props.customers} \r\n                   customerHandler={this.customerHandler}\r\n                   pageMod={this.props.pageMod}\r\n                   invoiceData={this.props.invoiceData}\r\n                   customerId={this.state.customer}\r\n                  /> \r\n                </div>\r\n\r\n{/* Product input */}\r\n                \r\n                <ProductsInput\r\n                 products={this.props.products} \r\n                 addProductHandler={this.addProductHandler}\r\n                />\r\n\r\n{/* Added products */}\r\n                <div className=\"row\">\r\n\r\n                  {this.setProductItemInList()}\r\n      \r\n                </div>\r\n\r\n{/* Discount and ADD */}\r\n                <div className=\"row justify-content-between mt-3 align-items-end\">\r\n                  <div className=\"col-lg-5 col-md-5 col-sm-12 text-left\">\r\n                    <label htmlFor=\"discount-input\">Discount</label>\r\n                    <input \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    id=\"discount-input\" \r\n                    placeholder=\"Discount in %\" \r\n                    onChange={this.discountHandler} \r\n                    value={this.state.discount === 0 ? '' : this.state.discount}/>\r\n                  </div>\r\n                  <div className=\"col-lg-5 col-md-5 col-sm-12 text-right add-invoice-form-btn\">\r\n                    {this.setAddButton()}\r\n                    {this.setCancelButton()}\r\n                  </div>\r\n                </div>\r\n\r\n              </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddEditForm;","import React from 'react';\r\nimport API from './model';\r\nimport AddEditForm from './add-edit-modules/form';\r\n\r\nclass AddEditInvoice extends React.Component {\r\n  props: any;\r\n  token: string;\r\n  pageMode: string;\r\n  userId: string;\r\n  state: any;\r\n  invoiceData: any;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.token = props.location.state.token;\r\n    this.pageMode = props.location.state.mode;\r\n    this.userId = props.location.state.userId;\r\n    this.invoiceData = props.location.state.invoiceData || {};\r\n    this.state = {\r\n      customers: [],\r\n      products: []\r\n    };\r\n  }\r\n\r\n  setSelectOptions(): void {\r\n\r\n    API.getCustomers(this.token)\r\n    .then(customersArray => API.getProducts(this.token)\r\n    .then(productsArray => this.setState(\r\n      { \r\n        customers: customersArray,\r\n        products: productsArray \r\n      }\r\n    )));\r\n    \r\n  }\r\n\r\n  render() {\r\n    if (!this.state.customers.length) {\r\n      this.setSelectOptions();\r\n    }\r\n\r\n    return (\r\n      <div className=\"home-bg\">\r\n        <div className=\"section\">\r\n          <div className=\"row register-block bg-forms rounded text-white text-center justify-content-center p-4\">\r\n            <div className=\"col-12\">    \r\n              \r\n              <AddEditForm\r\n               customers={this.state.customers} \r\n               products={this.state.products}\r\n               userData={{userId: this.userId, token: this.token}} \r\n               history={this.props.history} \r\n               pageMod={this.pageMode}\r\n               invoiceData={this.invoiceData}\r\n               />\r\n            \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddEditInvoice;","//Pages\nimport LoginPage from './modules/login-page';\nimport RegisterPage from './modules/register-page';\nimport HomePage from './modules/home-page';\nimport AddEditInvoice from './modules/add-edit-invoice';\n\n//Lib\nimport React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport { setCookie, getAuthCookie } from './modules/cookie/cookie';\n\n//Styles\nimport './custom_bootstrap.scss';\nimport './styles/main.sass';\n\ninterface UserData {\n  isAuth: boolean,\n  userId: string,\n  accessToken: string\n}\n\ninterface Cookie {\n      isAuth?: boolean,\n      userId?: string,\n      accessToken?: string\n}\n\nclass App extends React.Component {\n  history: any;\n  state: any;\n  cookie: Cookie;\n\n  constructor(props: any) {\n    super(props);\n    this.stateHandler = this.stateHandler.bind(this);\n    this.cookie = getAuthCookie();\n    this.state = {\n      isAuth: this.cookie !== {} ? this.cookie.isAuth : false,\n      userId: this.cookie !== {} ? this.cookie.userId : '',\n      accessToken: this.cookie !== {} ? this.cookie.accessToken : '',\n    };\n  }\n\n  stateHandler(userData: UserData): void {\n\n    const dataBox: UserData = {\n      isAuth: userData.isAuth,\n      userId: userData.userId,\n      accessToken: userData.accessToken \n    };\n\n    setCookie('auth', JSON.stringify(dataBox), 2100, 10, 1);\n    this.setState(dataBox);\n  }\n\n  render() {\n    return (\n      <div>\n        <Router basename={process.env.PUBLIC_URL}>\n          <Switch>\n            <Route exact path='/'><Redirect to='/login'/></Route>\n  \n            <Route path='/login'>\n            {this.state.isAuth ? (<Redirect to='/home'/>) : (<LoginPage stateHandler={this.stateHandler} />)}\n            </Route>\n  \n            <Route path='/register' component={RegisterPage}/>\n            <Route path='/add-edit-invoice' component={AddEditInvoice} />\n  \n            <Route path='/home'>\n              {this.state.isAuth ? (<HomePage userData={this.state} stateHandler={this.stateHandler}/>) : (<Redirect to='/login'/>)}\n            </Route>\n\n          </Switch>\n       </Router>\n      </div>\n    );\n  } \n}\n\nexport default App;\n","\r\nexport const setCookie = (key: string, value: string, year: number, month: number, day: number): void => {\r\n  let cookieStr = encodeURI(key) + '=' + encodeURI(value);\r\n\r\n  if (year) {\r\n    const expires = new Date(year, month-1, day);\r\n    cookieStr += '; expires=' + encodeURI(expires.toUTCString());\r\n  }\r\n\r\n  document.cookie = cookieStr;\r\n};\r\n\r\nexport const getAuthCookie = (): object => {\r\n  const regExp = /^auth=/;\r\n  const auth = decodeURI(document.cookie).split('; ').filter(cookie => {\r\n    if (regExp.test(cookie)) {\r\n      return cookie;\r\n    }\r\n  });\r\n\r\n  if (auth.length) {\r\n    return JSON.parse(auth.join().split('=')[1]);\r\n  } else {\r\n    return {};\r\n  }\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}